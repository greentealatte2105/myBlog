<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>N-queen Problem | HuuPhuoc&#39;s Blog</title>
<meta name="keywords" content="CS112">
<meta name="description" content="Nêu vấn đề:  N-queen là bài toán tìm cách đặt N quân hậu trên một bàn cờ có kích thước N x N sao cho không có 2 quân hậu nào có thể tấn công được nhau. VD: với N = 4, ta sẽ có kết quả như sau:
 Input: Một số nguyên N.
Output: Một ma trận nhị phân, với 1 là vị trí của quân hậu thỏa mãn, 0 là ô trống.">
<meta name="author" content="Lê Trần Hữu Phước">
<link rel="canonical" href="/posts/cs112/backtracking/n-queenproblem/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.b4e19c453811e60acfec1f00c15ac2be1c53f6ab90187e684358ce7faaf48bab.css" integrity="sha256-tOGcRTgR5grP7B8AwVrCvhxT9quQGH5oQ1jOf6r0i6s=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js" integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="mask-icon" href="safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="N-queen Problem" />
<meta property="og:description" content="Nêu vấn đề:  N-queen là bài toán tìm cách đặt N quân hậu trên một bàn cờ có kích thước N x N sao cho không có 2 quân hậu nào có thể tấn công được nhau. VD: với N = 4, ta sẽ có kết quả như sau:
 Input: Một số nguyên N.
Output: Một ma trận nhị phân, với 1 là vị trí của quân hậu thỏa mãn, 0 là ô trống." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/cs112/backtracking/n-queenproblem/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-11T22:13:03&#43;07:00" />
<meta property="article:modified_time" content="2022-04-11T22:13:03&#43;07:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="N-queen Problem"/>
<meta name="twitter:description" content="Nêu vấn đề:  N-queen là bài toán tìm cách đặt N quân hậu trên một bàn cờ có kích thước N x N sao cho không có 2 quân hậu nào có thể tấn công được nhau. VD: với N = 4, ta sẽ có kết quả như sau:
 Input: Một số nguyên N.
Output: Một ma trận nhị phân, với 1 là vị trí của quân hậu thỏa mãn, 0 là ô trống."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "N-queen Problem",
      "item": "/posts/cs112/backtracking/n-queenproblem/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "N-queen Problem",
  "name": "N-queen Problem",
  "description": "Nêu vấn đề:  N-queen là bài toán tìm cách đặt N quân hậu trên một bàn cờ có kích thước N x N sao cho không có 2 quân hậu nào có thể tấn công được nhau. VD: với N = 4, ta sẽ có kết quả như sau:\n Input: Một số nguyên N.\nOutput: Một ma trận nhị phân, với 1 là vị trí của quân hậu thỏa mãn, 0 là ô trống.",
  "keywords": [
    "CS112"
  ],
  "articleBody": "Nêu vấn đề:  N-queen là bài toán tìm cách đặt N quân hậu trên một bàn cờ có kích thước N x N sao cho không có 2 quân hậu nào có thể tấn công được nhau. VD: với N = 4, ta sẽ có kết quả như sau:\n Input: Một số nguyên N.\nOutput: Một ma trận nhị phân, với 1 là vị trí của quân hậu thỏa mãn, 0 là ô trống.\nVD: Dưới đây là output với N = 4.\n0 1 0 0\r0 0 0 1\r1 0 0 0\r0 0 1 0\r Hướng giải quyết: Dễ dàng thấy được, với N = 1, thì vấn đề khá đơn giản, nếu N = 2 hoặc N = 3 thì sẽ không tồn tại giải pháp thích hợp cho bài toán (vô nghiệm), nên ta sẽ minh họa với N = 4.\nHướng tiếp cận không dùng Backtracking:  Liệt kê tất cả các trường hợp mà ta có thể đặt quân hậu trên bàn cờ và loại ra các trường hợp không thỏa mãn điều kiện.\n While (there are untried configuration)\r{\rgenerate the next configuration\rif queens don't attack in this configuration then\r{\rprint this configuration;\r}\r} Nhận xét:  Ta sẽ thấy rằng với cách này, ý tưởng sẽ khá đơn giản, tuy nhiên sẽ tốn nhiều thời gian thực thi chương trình.\n Hướng tiếp cận với Backtracking: Ý tưởng sơ khai:   Đặt mỗi quân hậu lần lượt ở những cột khác nhau, bắt đầu từ trái qua phải.\n  Khi đặt quân hậu vào mỗi cột, kiểm tra xem tại đó có đụng độ với quân hậu nào khác hay không?\n Nếu không, đánh dấu lại vị trí và xem nó như là một phần của Output. Ngược lại, thực hiện quay đuôi (Backtracking) và trả về Fasle.    Giải thuật:  Bước 1: Bắt đầu duyệt ở hàng trên cùng của ma trận.\n  Bước 2: Nếu tất cả các quân hậu tìm được vị trí thỏa mãn yêu cầu. Return True.\n  Bước 3: Lần lượt duyệt tất cả các cột trên cùng một hàng.\n  a) Nếu tìm được cột thỏa mãn, lưu lại vị trí và kiểm tra đệ quy xem thử liệu có dẫn đến lời giải hay không.\rb) Nếu vị trí đó dẫn đến lời giải, return True.\rc) Ngược lại, bỏ vị trí đó và (Backtrack) quay lại a).\r  Bước 4: Nếu tất cả các cột trên cùng một hàng đều không thỏa thì trả về False và thực hiện Backtracking.\n ",
  "wordCount" : "422",
  "inLanguage": "en",
  "datePublished": "2022-04-11T22:13:03+07:00",
  "dateModified": "2022-04-11T22:13:03+07:00",
  "author":{
    "@type": "Person",
    "name": "Lê Trần Hữu Phước"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/posts/cs112/backtracking/n-queenproblem/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "HuuPhuoc's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "favicon.ico"
    }
  }
}
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="" accesskey="h" title="HuuPhuoc&#39;s Blog (Alt + H)">HuuPhuoc&#39;s Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="">Home</a>&nbsp;»&nbsp;<a href="/posts/">Posts</a></div>
    <h1 class="post-title">
      N-queen Problem
    </h1>
    <div class="post-meta"><span title='2022-04-11 22:13:03 +0700 +07'>April 11, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Lê Trần Hữu Phước

</div>
  </header> 
  <div class="post-content"><h2 id="__nêu-vấn-đề__"><strong>Nêu vấn đề:</strong><a hidden class="anchor" aria-hidden="true" href="#__nêu-vấn-đề__">#</a></h2>
<blockquote>
<p><strong>N-queen</strong> là bài toán tìm cách đặt N quân hậu 
trên một bàn cờ có kích thước N x N sao cho không 
có 2 quân hậu nào có thể tấn công được nhau.
VD: với <strong>N = 4</strong>, ta sẽ có kết quả như sau:</p>
</blockquote>
<!-- raw HTML omitted -->
<p><strong>Input:</strong> Một số nguyên <strong>N</strong>.</p>
<p><strong>Output:</strong> Một ma trận nhị phân, với <strong>1</strong> là vị trí của quân hậu thỏa mãn, <strong>0</strong> là ô trống.</p>
<p>VD: Dưới đây là <strong>output</strong> với <strong>N = 4</strong>.</p>
<pre><code>0  1  0  0
0  0  0  1
1  0  0  0
0  0  1  0
</code></pre>
<h2 id="__hướng-giải-quyết__"><strong>Hướng giải quyết:</strong><a hidden class="anchor" aria-hidden="true" href="#__hướng-giải-quyết__">#</a></h2>
<p>Dễ dàng thấy được, với <strong>N = 1</strong>, thì vấn đề khá đơn giản, nếu <strong>N = 2</strong> hoặc <strong>N = 3</strong> thì sẽ không tồn tại giải pháp thích hợp cho bài toán (vô nghiệm), nên ta sẽ minh họa với <strong>N = 4</strong>.</p>
<h3 id="__hướng-tiếp-cận-không-dùng-backtracking__"><strong>Hướng tiếp cận không dùng Backtracking</strong>:<a hidden class="anchor" aria-hidden="true" href="#__hướng-tiếp-cận-không-dùng-backtracking__">#</a></h3>
<blockquote>
<p>Liệt kê tất cả các trường hợp mà ta có thể đặt quân hậu trên bàn cờ và loại ra các trường hợp không thỏa mãn điều kiện.</p>
</blockquote>
<pre tabindex="0"><code>While (there are untried configuration)
{
   generate the next configuration
   if queens don&#39;t attack in this configuration then
   {
      print this configuration;
   }
}
</code></pre><h4 id="__nhận-xét__"><strong>Nhận xét</strong>:<a hidden class="anchor" aria-hidden="true" href="#__nhận-xét__">#</a></h4>
<blockquote>
<p>Ta sẽ thấy rằng với cách này, ý tưởng sẽ khá đơn giản, tuy nhiên sẽ tốn nhiều thời gian thực thi chương trình.</p>
</blockquote>
<h3 id="__hướng-tiếp-cận-với-backtracking__"><strong>Hướng tiếp cận với Backtracking</strong>:<a hidden class="anchor" aria-hidden="true" href="#__hướng-tiếp-cận-với-backtracking__">#</a></h3>
<h4 id="ý-tưởng-sơ-khai">Ý tưởng sơ khai:<a hidden class="anchor" aria-hidden="true" href="#ý-tưởng-sơ-khai">#</a></h4>
<ul>
<li>
<p>Đặt mỗi quân hậu lần lượt ở những cột khác nhau, bắt đầu từ trái qua phải.</p>
</li>
<li>
<p>Khi đặt quân hậu vào mỗi cột, kiểm tra xem tại đó có đụng độ với quân hậu nào khác hay không?</p>
<ul>
<li>Nếu không, đánh dấu lại vị trí và xem nó như là một phần của <strong>Output</strong>.</li>
<li>Ngược lại, thực hiện quay đuôi <strong>(Backtracking)</strong> và trả về <strong>Fasle</strong>.</li>
</ul>
</li>
</ul>
<h4 id="giải-thuật">Giải thuật:<a hidden class="anchor" aria-hidden="true" href="#giải-thuật">#</a></h4>
<blockquote>
<p>Bước 1: Bắt đầu duyệt ở hàng trên cùng của ma trận.</p>
</blockquote>
<blockquote>
<p>Bước 2: Nếu tất cả các quân hậu tìm được vị trí thỏa mãn yêu cầu. Return True.</p>
</blockquote>
<blockquote>
<p>Bước 3: Lần lượt duyệt tất cả các cột trên cùng một hàng.</p>
</blockquote>
<pre><code>    a) Nếu tìm được cột thỏa mãn, lưu lại vị trí và kiểm tra đệ quy xem thử liệu có dẫn 
    đến lời giải hay không.
    b) Nếu vị trí đó dẫn đến lời giải, return True.
    c) Ngược lại, bỏ vị trí đó và (Backtrack) quay lại a).
</code></pre>
<blockquote>
<p>Bước 4: Nếu tất cả các cột trên cùng một hàng đều không thỏa thì trả về False và thực hiện Backtracking.</p>
</blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="/tags/cs112/">CS112</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="/posts/cs112/backtracking/hamiltionial_cycle/">
    <span class="title">« Prev Page</span>
    <br>
    <span>Hamiltonian Circuit Problem</span>
  </a>
  <a class="next" href="/posts/introduction/">
    <span class="title">Next Page »</span>
    <br>
    <span>Welcome to my Blog</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="">HuuPhuoc&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
